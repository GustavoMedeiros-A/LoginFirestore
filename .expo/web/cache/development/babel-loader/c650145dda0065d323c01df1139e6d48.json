{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { auth } from \"../config/firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContex = createContext({});\nvar AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var navigation = useNavigation();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    userName = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState([{}]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    services = _useState6[0],\n    setServices = _useState6[1];\n  var loginUser = function () {\n    var _ref2 = _asyncToGenerator(function* (email, password) {\n      yield signInWithEmailAndPassword(auth, email, password).then(function (value) {\n        setUser(value.user.uid);\n        if (value.user.uid == \"6IpwJSBsMdW5I9sKvuPww1Jcnmv1\") {\n          console.log(\"okkkk\");\n        }\n        navigation.navigate(\"List\");\n      }).catch(function (error) {\n        setError(true);\n      });\n    });\n    return function loginUser(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      yield signOut(auth).then(function () {\n        navigation.navigate(\"Login\");\n      });\n    });\n    return function logout() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleServices = function handleServices(value) {\n    setServices(value);\n  };\n  return _jsx(AuthContex.Provider, {\n    value: {\n      name: userName,\n      loginUser: loginUser,\n      logout: logout,\n      error: error,\n      handleServices: handleServices,\n      services: services\n    },\n    children: children\n  });\n};\nexport default AuthProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","signInWithEmailAndPassword","signOut","auth","useNavigation","AuthContex","AuthProvider","children","navigation","userName","setUser","error","setError","services","setServices","loginUser","email","password","then","value","user","uid","console","log","navigate","catch","logout","handleServices","name"],"sources":["C:/Users/rafael.r/OneDrive - COMPASSO TECNOLOGIA LTDA/Área de Trabalho/React-Native/firestore/barbearia-native/src/contexts/auth.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport { signInWithEmailAndPassword, signOut } from \"firebase/auth\";\r\nimport { auth } from \"../config/firebase\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nexport const AuthContex = createContext({});\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const navigation = useNavigation();\r\n  const [userName, setUser] = useState();\r\n  const [error, setError] = useState(false);\r\n  const [services, setServices] = useState([{}]);\r\n\r\n  const loginUser = async (email, password) => {\r\n    await signInWithEmailAndPassword(auth, email, password)\r\n      .then((value) => {\r\n        setUser(value.user.uid);\r\n        if( value.user.uid == \"6IpwJSBsMdW5I9sKvuPww1Jcnmv1\"){\r\n          console.log(\"okkkk\")\r\n        }\r\n        navigation.navigate(\"List\");\r\n      })\r\n      .catch((error) => {\r\n        setError(true);\r\n      });\r\n  };\r\n  const logout = async () => {\r\n    await signOut(auth).then(() => {\r\n      navigation.navigate(\"Login\");\r\n    });\r\n  };\r\n\r\n  const handleServices = (value) => {\r\n    setServices(value);\r\n  };\r\n\r\n  return (\r\n    <AuthContex.Provider\r\n      value={{\r\n        name: userName,\r\n        loginUser,\r\n        logout,\r\n        error,\r\n        handleServices,\r\n        services,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContex.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,0BAA0B,EAAEC,OAAO,QAAQ,eAAe;AACnE,SAASC,IAAI;AACb,SAASC,aAAa,QAAQ,0BAA0B;AAAC;AAEzD,OAAO,IAAMC,UAAU,GAAGP,aAAa,CAAC,CAAC,CAAC,CAAC;AAE3C,IAAMQ,YAAY,GAAG,SAAfA,YAAY,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAC9B,IAAMC,UAAU,GAAGJ,aAAa,EAAE;EAClC,gBAA4BL,QAAQ,EAAE;IAAA;IAA/BU,QAAQ;IAAEC,OAAO;EACxB,iBAA0BX,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlCY,KAAK;IAAEC,QAAQ;EACtB,iBAAgCb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAAA;IAAvCc,QAAQ;IAAEC,WAAW;EAE5B,IAAMC,SAAS;IAAA,8BAAG,WAAOC,KAAK,EAAEC,QAAQ,EAAK;MAC3C,MAAMhB,0BAA0B,CAACE,IAAI,EAAEa,KAAK,EAAEC,QAAQ,CAAC,CACpDC,IAAI,CAAC,UAACC,KAAK,EAAK;QACfT,OAAO,CAACS,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC;QACvB,IAAIF,KAAK,CAACC,IAAI,CAACC,GAAG,IAAI,8BAA8B,EAAC;UACnDC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;QACtB;QACAf,UAAU,CAACgB,QAAQ,CAAC,MAAM,CAAC;MAC7B,CAAC,CAAC,CACDC,KAAK,CAAC,UAACd,KAAK,EAAK;QAChBC,QAAQ,CAAC,IAAI,CAAC;MAChB,CAAC,CAAC;IACN,CAAC;IAAA,gBAZKG,SAAS;MAAA;IAAA;EAAA,GAYd;EACD,IAAMW,MAAM;IAAA,8BAAG,aAAY;MACzB,MAAMxB,OAAO,CAACC,IAAI,CAAC,CAACe,IAAI,CAAC,YAAM;QAC7BV,UAAU,CAACgB,QAAQ,CAAC,OAAO,CAAC;MAC9B,CAAC,CAAC;IACJ,CAAC;IAAA,gBAJKE,MAAM;MAAA;IAAA;EAAA,GAIX;EAED,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIR,KAAK,EAAK;IAChCL,WAAW,CAACK,KAAK,CAAC;EACpB,CAAC;EAED,OACE,KAAC,UAAU,CAAC,QAAQ;IAClB,KAAK,EAAE;MACLS,IAAI,EAAEnB,QAAQ;MACdM,SAAS,EAATA,SAAS;MACTW,MAAM,EAANA,MAAM;MACNf,KAAK,EAALA,KAAK;MACLgB,cAAc,EAAdA,cAAc;MACdd,QAAQ,EAARA;IACF,CAAE;IAAA,UAEDN;EAAQ,EACW;AAE1B,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module"}