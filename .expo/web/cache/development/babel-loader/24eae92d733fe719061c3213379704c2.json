{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { BackgroundLinear } from \"../Home/gradient\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport InputComponent from \"../../components/input/index\";\nimport ButtonComponent from \"../../components/button/index\";\nimport LinkComponent from \"../../components/link/index\";\nimport { auth } from \"../../config/firebase\";\nimport { Container, ImageComponet, TextComponet, TitleComponet } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Registration = function Registration() {\n  var navigation = useNavigation();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    emailOne = _useState2[0],\n    setEmailOne = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    valid = _useState8[0],\n    setValid = _useState8[1];\n  var validEmail = function validEmail() {\n    var regex = RegExp(/[a-z-A-Z][@][a-z]*\\.[a-z]{3}/);\n    var regexTest = regex.test(email);\n    if (regexTest) {\n      setValid(true);\n    }\n    setValid(false);\n  };\n  var createUser = function () {\n    var _ref = _asyncToGenerator(function* () {\n      yield createUserWithEmailAndPassword(auth, email, password).then(function (value) {\n        alert(\"Cadastrado com sucesso!\");\n      });\n    });\n    return function createUser() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleSubmit = function handleSubmit() {\n    if (emailOne === email) {\n      createUser();\n    } else {\n      alert('Os campos não conferem.');\n    }\n  };\n  return _jsx(BackgroundLinear, {\n    children: _jsxs(Container, {\n      children: [_jsx(ImageComponet, {\n        source: require(\"../../assets/logo.png\")\n      }), _jsx(TitleComponet, {\n        children: \"Barbearia Rei Do Corte\"\n      }), _jsx(TextComponet, {\n        children: \"Registre-se\"\n      }), _jsx(InputComponent, {\n        type: \"text\",\n        label: \"Email\",\n        onBlur: validEmail,\n        placeholder: \"email@email.com\",\n        onChangeText: function onChangeText(value) {\n          return setEmailOne(value);\n        }\n      }), _jsx(InputComponent, {\n        type: \"text\",\n        label: \"Confirme o Email\",\n        onBlur: validEmail,\n        placeholder: \"email@email.com\",\n        onChangeText: function onChangeText(value) {\n          return setEmail(value);\n        }\n      }), _jsx(InputComponent, {\n        type: \"password\",\n        label: \"Senha\",\n        placeholder: \"******\",\n        onChangeText: function onChangeText(value) {\n          return setPassword(value);\n        }\n      }), _jsx(LinkComponent, {\n        textBefore: \"J\\xE1 tem conta?\",\n        link: \"Entrar\",\n        onPress: function onPress() {\n          return navigation.navigate(\"Login\");\n        }\n      }), _jsx(ButtonComponent, {\n        onPress: handleSubmit,\n        text: \"Cadastrar\"\n      })]\n    })\n  });\n};\nexport default Registration;","map":{"version":3,"names":["useState","createUserWithEmailAndPassword","BackgroundLinear","useNavigation","InputComponent","ButtonComponent","LinkComponent","auth","Container","ImageComponet","TextComponet","TitleComponet","Registration","navigation","emailOne","setEmailOne","email","setEmail","password","setPassword","valid","setValid","validEmail","regex","RegExp","regexTest","test","createUser","then","value","alert","handleSubmit","require","navigate"],"sources":["C:/Users/rafael.r/OneDrive - COMPASSO TECNOLOGIA LTDA/Área de Trabalho/React-Native/firestore/barbearia-native/src/pages/registration/index.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { BackgroundLinear } from \"../Home/gradient\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport InputComponent from \"../../components/input/index\";\r\nimport ButtonComponent from \"../../components/button/index\";\r\nimport LinkComponent from \"../../components/link/index\";\r\nimport { auth } from \"../../config/firebase\";\r\n\r\nimport {\r\n  Container,\r\n  ImageComponet,\r\n  TextComponet,\r\n  TitleComponet,\r\n} from \"./styles\";\r\nconst Registration = () => {\r\n  const navigation = useNavigation();\r\n  const [emailOne, setEmailOne] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [valid, setValid] = useState(false);\r\n\r\n  const validEmail = () => {\r\n    const regex = RegExp(/[a-z-A-Z][@][a-z]*\\.[a-z]{3}/);\r\n    const regexTest = regex.test(email);\r\n\r\n    if (regexTest) {\r\n      setValid(true);\r\n    }\r\n    setValid(false);\r\n  };\r\n\r\n  const createUser = async () => {\r\n    await createUserWithEmailAndPassword(auth, email, password).then(\r\n      (value) => {\r\n        alert(\"Cadastrado com sucesso!\");\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleSubmit=()=>{\r\n    if( emailOne === email){\r\n      createUser()\r\n    }else{\r\n      alert('Os campos não conferem.')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <BackgroundLinear>\r\n      <Container>\r\n        <ImageComponet source={require(\"../../assets/logo.png\")} />\r\n        <TitleComponet>Barbearia Rei Do Corte</TitleComponet>\r\n        <TextComponet>Registre-se</TextComponet>\r\n\r\n        <InputComponent\r\n          type=\"text\"\r\n          label=\"Email\"\r\n          onBlur={validEmail}\r\n          placeholder=\"email@email.com\"\r\n          onChangeText={(value) => setEmailOne(value)}\r\n        />\r\n        <InputComponent\r\n          type=\"text\"\r\n          label=\"Confirme o Email\"\r\n          onBlur={validEmail}\r\n          placeholder=\"email@email.com\"\r\n          onChangeText={(value) => setEmail(value)}\r\n        />\r\n        <InputComponent\r\n          type=\"password\"\r\n          label=\"Senha\"\r\n          placeholder=\"******\"\r\n          onChangeText={(value) => setPassword(value)}\r\n        />\r\n        <LinkComponent\r\n          textBefore=\"Já tem conta?\"\r\n          link=\"Entrar\"\r\n          onPress={() => navigation.navigate(\"Login\")}\r\n        />\r\n        <ButtonComponent onPress={handleSubmit} text=\"Cadastrar\" />\r\n      </Container>\r\n    </BackgroundLinear>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}