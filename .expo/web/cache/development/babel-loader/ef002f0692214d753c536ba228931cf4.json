{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useState, useEffect } from \"react\";\nimport { useContext } from \"react/cjs/react.development\";\nimport { BackgroundLinear } from \"../Home/gradient\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport ButtonComponent from \"../../components/button/index\";\nimport { AuthContex } from \"../../contexts/auth\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { Container, ImageComponet, TextComponet, TitleComponet, Slider, Content, DuoButtonContainer, ButtonComponet } from \"./styles\";\nimport { database } from \"../../config/firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar List = function List() {\n  var _useContext = useContext(AuthContex),\n    name = _useContext.name;\n  var navigation = useNavigation();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tasks = _useState2[0],\n    setTasks = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeLeft = _useState4[0],\n    setActiveLeft = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    activeRight = _useState6[0],\n    setActiveRight = _useState6[1];\n  var userCollection = collection(database, \"Tasks\");\n  var handleActive = function handleActive(position) {\n    if (position === \"left\") {\n      setActiveLeft(true);\n      setActiveRight(false);\n    } else {\n      setActiveLeft(false);\n      setActiveRight(true);\n    }\n  };\n  useEffect(function () {\n    var getUser = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var data = yield getDocs(userCollection);\n        setTasks(data.docs.map(function (doc) {\n          return _objectSpread(_objectSpread({}, doc.data()), {}, {\n            id: doc.id\n          });\n        }));\n      });\n      return function getUser() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    getUser();\n  }, []);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return item.idClientedb === name && _jsxs(Content, _objectSpread(_objectSpread({}, item), {}, {\n      children: [_jsx(ImageComponet, {\n        source: require(\"../../assets/icon.png\")\n      }), item.namedb && _jsxs(TextComponet, {\n        children: [\"Cliente: \", item.namedb]\n      }), item.activedb ? _jsx(TextComponet, {\n        children: \"Status: Aberto\"\n      }) : _jsx(TextComponet, {\n        children: \"Status: Fechado\"\n      }), _jsx(TextComponet, {\n        children: \"Servi\\xE7os:\"\n      }), item.barbadb && _jsx(TextComponet, {\n        children: \"Barba\"\n      }), item.limpezadb && _jsx(TextComponet, {\n        children: \"Limpeza\"\n      }), item.sombrancelhadb && _jsx(TextComponet, {\n        children: \"Sombrancela\"\n      }), item.cortedb && _jsx(TextComponet, {\n        children: \"Corte\"\n      }), _jsxs(TextComponet, {\n        children: [\"Data: \", item.datedb]\n      })]\n    }));\n  };\n  return _jsx(BackgroundLinear, {\n    children: _jsxs(Container, {\n      children: [_jsx(TitleComponet, {\n        children: \"Agendas\"\n      }), _jsxs(DuoButtonContainer, {\n        children: [_jsx(ButtonComponet, {\n          active: activeLeft,\n          onPress: function onPress() {\n            return handleActive(\"left\");\n          },\n          children: _jsx(TextComponet, {\n            children: \"Abertos\"\n          })\n        }), _jsx(ButtonComponet, {\n          active: activeRight,\n          onPress: function onPress() {\n            return handleActive(\"right\");\n          },\n          children: _jsx(TextComponet, {\n            children: \"Fechado\"\n          })\n        })]\n      }), activeLeft ? _jsx(_Fragment, {\n        children: _jsx(Slider, {\n          data: tasks,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        })\n      }) : _jsx(_Fragment, {\n        children: _jsx(Slider, {\n          data: tasks,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        })\n      }), _jsx(ButtonComponent, {\n        onPress: function onPress() {\n          return navigation.navigate(\"Home\");\n        },\n        text: \"Voltar\"\n      })]\n    })\n  });\n};\nexport default List;","map":{"version":3,"names":["useState","useEffect","useContext","BackgroundLinear","useNavigation","ButtonComponent","AuthContex","collection","getDocs","Container","ImageComponet","TextComponet","TitleComponet","Slider","Content","DuoButtonContainer","ButtonComponet","database","List","name","navigation","tasks","setTasks","activeLeft","setActiveLeft","activeRight","setActiveRight","userCollection","handleActive","position","getUser","data","docs","map","doc","id","renderItem","item","idClientedb","require","namedb","activedb","barbadb","limpezadb","sombrancelhadb","cortedb","datedb","navigate"],"sources":["C:/Users/rafael.r/OneDrive - COMPASSO TECNOLOGIA LTDA/Área de Trabalho/React-Native/firestore/barbearia-native/src/pages/list/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useContext } from \"react/cjs/react.development\";\r\nimport { BackgroundLinear } from \"../Home/gradient\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport ButtonComponent from \"../../components/button/index\";\r\nimport { AuthContex } from \"../../contexts/auth\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\n\r\nimport {\r\n  Container,\r\n  ImageComponet,\r\n  TextComponet,\r\n  TitleComponet,\r\n  Slider,\r\n  Content,\r\n  DuoButtonContainer,\r\n  ButtonComponet,\r\n} from \"./styles\";\r\nimport { database } from \"../../config/firebase\";\r\n\r\nconst List = () => {\r\n  const { name } = useContext(AuthContex);\r\n\r\n  const navigation = useNavigation();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [activeLeft, setActiveLeft] = useState(true);\r\n  const [activeRight, setActiveRight] = useState();\r\n\r\n  const userCollection = collection(database, \"Tasks\");\r\n\r\n  const handleActive = (position) => {\r\n    if (position === \"left\") {\r\n      setActiveLeft(true);\r\n      setActiveRight(false);\r\n    } else {\r\n      setActiveLeft(false);\r\n      setActiveRight(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const data = await getDocs(userCollection);\r\n      //  console.log(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n      setTasks(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  const renderItem = ({ item }) =>\r\n    item.idClientedb === name && (\r\n      <Content {...item}>\r\n        <ImageComponet source={require(\"../../assets/icon.png\")} />\r\n        {item.namedb && <TextComponet>Cliente: {item.namedb}</TextComponet>}\r\n        {item.activedb ? (\r\n          <TextComponet>Status: Aberto</TextComponet>\r\n        ) : (\r\n          <TextComponet>Status: Fechado</TextComponet>\r\n        )}\r\n        <TextComponet>Serviços:</TextComponet>\r\n        {item.barbadb && <TextComponet>Barba</TextComponet>}\r\n        {item.limpezadb && <TextComponet>Limpeza</TextComponet>}\r\n        {item.sombrancelhadb && <TextComponet>Sombrancela</TextComponet>}\r\n        {item.cortedb && <TextComponet>Corte</TextComponet>}\r\n        <TextComponet>Data: {item.datedb}</TextComponet>\r\n      </Content>\r\n    );\r\n\r\n  return (\r\n    <BackgroundLinear>\r\n      <Container>\r\n        <TitleComponet>Agendas</TitleComponet>\r\n        <DuoButtonContainer>\r\n          <ButtonComponet\r\n            active={activeLeft}\r\n            onPress={() => handleActive(\"left\")}\r\n          ><TextComponet>Abertos</TextComponet>\r\n          </ButtonComponet>\r\n          <ButtonComponet\r\n            active={activeRight}\r\n            onPress={() => handleActive(\"right\")}\r\n          >\r\n            <TextComponet>Fechado</TextComponet>\r\n          </ButtonComponet>\r\n        </DuoButtonContainer>\r\n        {activeLeft ? (\r\n          <>\r\n            <Slider\r\n              data={tasks}\r\n              renderItem={renderItem}\r\n              keyExtractor={(item) => item.id}\r\n            />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Slider\r\n              data={tasks}\r\n              renderItem={renderItem}\r\n              keyExtractor={(item) => item.id}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        <ButtonComponent\r\n          onPress={() => navigation.navigate(\"Home\")}\r\n          text=\"Voltar\"\r\n        ></ButtonComponent>\r\n      </Container>\r\n    </BackgroundLinear>\r\n  );\r\n};\r\n\r\nexport default List;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}